<!--ai-config.wxml-->
<navigation-bar
  title="{{ isEdit ? '编辑AI配置' : '新增AI配置' }}"
  back="{{ true }}"
  color="black"
  background="#FFF"
>
</navigation-bar>

<scroll-view class="ai-config-container" style="padding-top: {{ contentPaddingTop }}px" scroll-y="true">
  <view class="config-form">
    <!-- 基本信息 -->
    <view class="form-section">
      <view class="section-title">基本信息</view>
      
      <form-input
        label="配置名称"
        placeholder="例如：GPT-4o、Claude 3.5 Sonnet"
        value="{{ form.name }}"
        required="{{ true }}"
        error="{{ errors.name }}"
        bindinput="onInputChange"
        data-field="name"
      />
    </view>

    <!-- API配置 -->
    <view class="form-section">
      <view class="section-title">API配置</view>
      
      <form-input
        label="API密钥"
        placeholder="请输入API密钥"
        value="{{ form.apiKey }}"
        password="{{ true }}"
        required="{{ true }}"
        error="{{ errors.apiKey }}"
        bindinput="onInputChange"
        data-field="apiKey"
      />
      
      <form-input
        label="API地址"
        placeholder="API服务地址"
        value="{{ form.apiHost }}"
        required="{{ true }}"
        error="{{ errors.apiHost }}"
        helper="API服务地址"
        bindinput="onInputChange"
        data-field="apiHost"
      />
      
      <form-input
        label="模型"
        placeholder="请输入模型名称，如：gpt-4o、claude-3-5-sonnet-20241022"
        value="{{ form.model }}"
        required="{{ true }}"
        error="{{ errors.model }}"
        bindinput="onInputChange"
        data-field="model"
      />
    </view>
  </view>

  <!-- 底部按钮 -->
  <view class="bottom-actions" style="padding-bottom: calc(32rpx + {{ bottomSafeHeight }}px);">
    <view class="btn-group">
      <button class="btn btn-primary" bindtap="onSave" disabled="{{ !canSave }}">
        {{ isEdit ? '保存' : '创建' }}
      </button>
    </view>
  </view>
</scroll-view>
